/* 1. Core Responsive Infrastructure - CSS */
/* This file will contain all the new responsive styles. */

/* Media Queries */

/* 2. Typography and Sizing - CSS */
html {
    font-size: clamp(14px, 2.5vw, 18px);
}

.player-name {
    font-size: clamp(12px, 1.5vw, 16px);
}

#ludo-board {
    --token-size: clamp(30px, 4.5vw, 44px);
    width: min(90vw, 90vh);
    height: min(90vw, 90vh);
    max-width: 600px;
    max-height: 600px;
}

/* Base (mobile first) */
body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 1rem;
    box-sizing: border-box;
}

.lobby-container, .game-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 1200px; /* A reasonable max-width for larger screens */
    margin: auto;
}

/* 3. Layout Adaptations - CSS */
.game-container {
    container-type: inline-size;
    container-name: game-container;
    gap: 1rem;
}

#chat-container {
    position: relative;
    width: 100%;
    height: auto;
    max-height: 40vh;
    bottom: 0;
    right: 0;
}

@container game-container (min-width: 700px) {
    .game-container {
        flex-direction: row;
        justify-content: space-around;
        align-items: center;
    }

    .player-info-container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .right-panel-container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    #chat-container {
        position: relative;
        width: 100%;
        height: auto;
    }
}

/* 768px (tablet portrait) */
@media (min-width: 768px) {

}

.player-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    border: 1px solid transparent;
    border-radius: 0.25rem;
}

.player-info.current {
    border-color: var(--blue);
}

.player-color-indicator {
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
}

/* 5. Performance and Conditional Loading - CSS */
.no-animations .token.movable,
.no-animations #dice.rolling {
    animation: none;
}

.no-animations .ui-btn,
.no-animations .mode-btn {
    transition: none;
}

@media (min-width: 1024px) {
    body.theme-cyberpunk {
        background-image: url('assets/images/cyberpunk.gif');
    }
    body.theme-egypt {
        background-image: url('assets/images/egypt.gif');
    }
    body.theme-jurassic {
        background-image: url('assets/images/jurassic.gif');
    }
    body.theme-space {
        background-image: url('assets/images/space.gif');
    }
}

/* 1024px (tablet landscape / small laptop) */
@media (min-width: 1024px) {
    .game-container {
        flex-direction: row;
        justify-content: center;
        align-items: flex-start;
        gap: 2rem;
    }

    .player-info-container {
        order: 1;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    #ludo-board {
        order: 2;
    }

    .right-panel-container {
        order: 3;
        width: 18.75rem; /* Same as chat width */
    }

    #chat-container {
        position: relative;
        bottom: unset;
        right: unset;
        width: 100%;
        height: 25rem; /* Give it a fixed height on desktop */
    }
}

/* 1440px (desktop) */
@media (min-width: 1440px) {

}

/* 4. Mobile-Specific Enhancements - CSS */
body.keyboard-open #chat-container {
    position: fixed;
    bottom: 0;
    width: 100%;
    z-index: 1000;
}

#rotate-warning {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    font-size: 1.5rem;
    z-index: 9999;
}

/* 1920px (large desktop) */
@media (min-width: 1920px) {

}
